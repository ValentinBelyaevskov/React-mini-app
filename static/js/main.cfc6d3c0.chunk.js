(this.webpackJsonp2react_lessons=this.webpackJsonp2react_lessons||[]).push([[0],{10:function(e,t,r){e.exports={form:"Login_form__2zk8N",input:"Login_input__inKTZ",checkboxContainer:"Login_checkboxContainer__3Tt8o",buttonContainer:"Login_buttonContainer__3NaeJ",loginError:"Login_loginError__1sRUi"}},100:function(e,t,r){"use strict";r.r(t);var n,a=r(0),s=r.n(a),o=r(26),u=r.n(o),c=r(4),i=function(e){return{type:"SET-USERS",users:e}},l=function(e){return{type:"SET-TOTAL-USERS-COUNT",totalCount:e}},f=function(e){return{type:"SET-CURRENT-PAGE-NUMBER",currentPageNumber:e}},p=function(e){return{type:"SET-FIRST-PAGE-NUMBER",firstPageNumber:e}},g=function(e){return{type:"SET-USER-PAGE-IS-FETCHING",isFetching:e}},m=function(e){return{type:"SET-CURRENT-PROFILE",currentProfile:e}},b=function(e){return{type:"SET-WAS-NOT-LOADED",wasNotLoaded:e}},d=function(e){return{type:"SET-PROFILE-IS-FETCHING",isFetching:e}},P=function(e){return{type:"SET-MY-PROFILE",myProfile:e}},j=function(e,t){return{type:"SET-FOLLOW-VALUE",userId:e,followValue:t}},h=function(e){return{type:"SET-ALL-FOLLOW-VALUES",allFollowPromises:e}},O=function(e){return{type:"SET-STATUS-VALUE",statusValue:e}},N=function(e){return{type:"SET-STATUS-IS-FETCHING",statusIsFetching:e}},S=function(e){return{type:"SET-LOGIN",login:e}},x=function(e){return{type:"SET-LOGIN-ERROR",loginError:e}},v=function(e){return{type:"SET-CAPTCHA",captcha:e}},T=r(35),E=r.n(T),_=r(51),I=r(14),C=r(19),F=r(18),U=r(52),w=r.n(U),L=function e(){Object(I.a)(this,e),this.instance=w.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"48956eca-72a8-4b4a-a942-c8a39af55a78"}})},k=function(e){Object(C.a)(r,e);var t=Object(F.a)(r);function r(){var e;return Object(I.a)(this,r),(e=t.call(this)).getProfilePromise=function(t){return e.instance("profile/".concat(t))},e.authMe=function(){return e.instance("auth/me")},e.login=function(t,r,n,a){return a?e.instance.post("auth/login",{email:t,password:r,rememberMe:n,captcha:a}):e.instance.post("auth/login",{email:t,password:r,rememberMe:n})},e.getCaptcha=function(){return e.instance("security/get-captcha-url")},e.logout=function(){return e.instance.post("auth/logout",{})},e.setMyProfile=Object(_.a)(E.a.mark((function t(){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.authMe();case 2:return r=t.sent,t.abrupt("return",1===r.data.resultCode?null:r.data);case 4:case"end":return t.stop()}}),t)}))),e.getProfileStatus=function(t){return e.instance("profile/status/".concat(t))},e.updateProfileStatus=function(t){return e.instance.put("profile/status",{status:t})},e}return r}(L),y=function(e){Object(C.a)(r,e);var t=Object(F.a)(r);function r(){var e;return Object(I.a)(this,r),(e=t.call(this)).getFollow=function(t){return e.instance("follow/".concat(t))},e.follow=function(t){return e.instance.post("follow/".concat(t))},e.unfollow=function(t){return e.instance.delete("follow/".concat(t))},e}return r}(L),A=function(e){Object(C.a)(r,e);var t=Object(F.a)(r);function r(){var e;return Object(I.a)(this,r),(e=t.call(this)).getUsersPromise=function(t,r){return e.instance.get("users?count=".concat(t,"&page=").concat(r))},e.getAllFollowPromises=function(t){return t.map((function(t){return e.instance("follow/".concat(t.id))}))},e}return r}(L),R=new k,G=new A,J=new y,M=function(e){return function(t){R.getProfilePromise(e).then((function(e){t(m(e.data)),t(d(!1))})).catch((function(e){console.log("setCurrentProfileThunk error: ".concat(e.message)),t(d(!1))}))}},V=function(e,t){return function(r){J.getFollow(e).then((function(n){r(j(e,n.data)),t(!1)})).catch((function(e){console.log("getUsersInfoThunk error: ".concat(e.message)),t(!1)}))}},W=function(e){return function(t){R.getProfileStatus(e).then((function(e){t(O(e.data)),t(N(!1))})).catch((function(e){t(N(!1)),console.log("setStatusValueThunk error: ".concat(e.message))}))}},B=r(11),H=r(17),D=r(9),z=r(53),Y=r.n(z),q=r(1),K=function(e){var t=e.text,r=e.clickHandler,n=e.style,a=e.type;return Object(q.jsx)("button",{style:Object(D.a)({},n),onClick:r,className:Y.a.button,type:a,children:t})},X=r(21),Z=r.n(X),Q=function(e){var t=Object(a.useState)(e.defaultAvatar),r=Object(B.a)(t,2),n=r[0],s=r[1],o=Object(a.useState)(!0),u=Object(B.a)(o,2),c=u[0],i=u[1];return Object(a.useEffect)((function(){i(!1),e.user.photos.small&&s(e.user.photos.small)}),[]),Object(q.jsxs)("div",{className:Z.a.user,children:[Object(q.jsxs)(H.a,{className:Z.a.link,activeClassName:Z.a.activeLink,to:"/Profile/".concat(e.user.id),children:[Object(q.jsx)("div",{className:Z.a.avatar,children:Object(q.jsx)("img",{src:n,alt:"avatar"})}),Object(q.jsx)("div",{className:Z.a.name,children:e.user.name})]}),e.myProfile?e.followed?Object(q.jsx)(K,{clickHandler:function(){c||(i(!0),e.unfollowThunk(e.user.id,i))},text:"unfollow"}):Object(q.jsx)(K,{clickHandler:function(){c||(i(!0),e.followThunk(e.user.id,i))},text:"follow"}):null]})},$=Object(c.b)((function(e,t){return{user:t.user,followed:t.user.followed,defaultAvatar:e.app.defaultAvatar,APIUrl:e.app.APIUrl,myProfile:e.app.myProfile}}),{setFollowValue:j,followThunk:function(e,t){return function(r){J.follow(e).then((function(n){0===n.data.resultCode&&V(e,t)(r)})).catch((function(e){console.log("followThunk error: ".concat(e.message)),t(!1)}))}},unfollowThunk:function(e,t){return function(r){J.unfollow(e).then((function(n){0===n.data.resultCode&&V(e,t)(r)})).catch((function(e){console.log("unfollowThunk error: ".concat(e.message)),t(!1)}))}}})(Q),ee=r(29),te=r.n(ee),re=r(55),ne=r.n(re),ae=function(e){var t=e.state;return Object(q.jsx)("div",{className:ne.a.preloader,children:Object(q.jsx)("img",{src:t.preloaderGif,alt:"preloader gif"})})},se=Object(c.b)((function(e,t){return{state:{preloaderGif:e.app.preloaderGif}}}))(ae),oe=r(38),ue=r.n(oe),ce=function(e){var t=e.props;return Object(a.useEffect)((function(){t.addOrRemoveSelect("add","toggleItem-".concat(t.pageParameters.pageNumber))}),[]),Object(a.useEffect)((function(){"active"===t.activeClassName&&t.setLastPageNumber(t.pageParameters.lastPageNumber)}),[t.pageParameters.lastPageNumber]),Object(q.jsx)("span",{onClick:function(){t.addOrRemoveSelect("remove","toggleItem-".concat(t.pageParameters.pageNumber)),t.setCurrentPageNumber(t.pageParameters.pageNumber),t.setNewFirstPageNumber(t.pageParameters)},className:"".concat(ue.a.togleItem,"\n         ").concat(ue.a[t.activeClassName]," toggleItem-").concat(t.pageParameters.pageNumber),children:t.pageParameters.pageNumber})},ie=function(e,t){var r=document.querySelector(".".concat(t));n=function(e){return e.preventDefault()},"add"===e?r.addEventListener("selectstart",n):"remove"===e&&r.removeEventListener("selectstart",n)},le=function(e){return Object(q.jsx)(ce,{props:Object(D.a)(Object(D.a)({},e),{},{addOrRemoveSelect:function(e,t){ie(e,t)}})})},fe=Object(c.b)((function(e,t){var r=e.app.userPages.totalCount,n=e.app.userPages.pageSize,a=Math.ceil(r/n);return{activeClassName:e.app.userPages.currentPageNumber===t.pageNumber?"active":"non-active",pageParameters:{pageNumber:t.pageNumber,firstPageNumber:e.app.userPages.firstPageNumber,lastPageNumber:a,pagesCount:e.app.userPages.pagesCount}}}),{setCurrentPageNumber:f,setNewFirstPageNumber:function(e){return{type:"SET-NEW-FIRST-PAGE-NUMBER",pageParameters:e}},setLastPageNumber:function(e){return{type:"SET-LAST-PAGE-NUMBER",lastPageNumber:e}},setUserPageIsFetching:g})(le),pe=r(30),ge=r.n(pe),me=function(e){var t=e.props,r=Object(a.useState)(t.getCurrentToggleItems(t.pagesCount,t.firstPageNumber)),n=Object(B.a)(r,2),s=n[0],o=n[1];Object(a.useEffect)((function(){o(t.getCurrentToggleItems(t.pagesCount,t.firstPageNumber))}),[t.firstPageNumber]),Object(a.useEffect)((function(){t.setPagesCount(t.totalCount)}),[t.totalCount]);return Object(q.jsxs)("div",{className:ge.a.toggle,children:[Object(q.jsxs)("div",{className:ge.a.toggleFlex,children:[Object(q.jsx)(K,{text:"First page",clickHandler:function(){t.setFirstPageNumber(1),t.setCurrentPageNumber(1)}}),Object(q.jsx)("div",{className:ge.a.toggleItemsWrapper,children:s.map((function(e,t){return Object(q.jsx)(fe,{pageNumber:e},t)}))}),Object(q.jsx)(K,{text:"Last page",clickHandler:function(){t.setFirstPageNumber(t.lastPageNumber-(t.pagesCount-1)),t.setCurrentPageNumber(t.lastPageNumber)}})]}),t.isFetching?Object(q.jsx)(se,{}):null]})},be=function(e){return Object(q.jsx)(me,{props:Object(D.a)(Object(D.a)({},e),{},{getCurrentToggleItems:function(e,t){for(var r=[],n=t;n<=e+t-1;n++)r[n]=n;return r},setPagesCount:function(t){0===t&&e.setPagesCount(1),t<5*e.pageSize&&e.setPagesCount(Math.ceil(t/e.pageSize)),t>5*e.pageSize&&e.setPagesCount(5)}})})},de=Object(c.b)((function(e,t){return{firstPageNumber:e.app.userPages.firstPageNumber,lastPageNumber:e.app.userPages.lastPageNumber,pagesCount:e.app.userPages.pagesCount,pageSize:e.app.userPages.pageSize,isFetching:e.app.userPages.isFetching,currentPageNumber:e.app.userPages.currentPageNumber,totalCount:e.app.userPages.totalCount}}),{setFirstPageNumber:p,setCurrentPageNumber:f,setPagesCount:function(e){return{type:"SET-PAGES-COUNT",pagesCount:e}}})(be),Pe=r(56),je=r.n(Pe),he=function(){return Object(q.jsx)("div",{className:je.a.wasNotLoaded,children:"Was not loaded ..."})},Oe=function(e){return Object(a.useEffect)((function(){return function(){e.setUserPageIsFetching(!1),e.setFirstPageNumber(1),e.setCurrentPageNumber(1),e.setUsers([])}}),[]),Object(a.useEffect)((function(){e.setUserPageIsFetching(!0),e.setUsersInfoThunk(e.pageSize,e.currentPageNumber)}),[e.currentPageNumber]),Object(a.useEffect)((function(){e.users.length>0&&e.myProfile&&e.setAllFollowValuesThunk(e.users)}),[e.users.length]),Object(q.jsxs)("div",{className:te.a.users,children:[Object(q.jsx)("h3",{className:te.a.usersTitle,children:"Users list"}),Object(q.jsx)(de,{}),e.wasNotLoaded?Object(q.jsx)(he,{}):Object(q.jsx)("div",{className:te.a.aListOfUsers,children:e.users.map((function(e){return Object(q.jsx)($,{user:e},e.name)}))})]})},Ne=Object(c.b)((function(e,t){return{users:e.app.usersInfo.users,currentPageNumber:e.app.userPages.currentPageNumber,wasNotLoaded:e.app.userPages.wasNotLoaded,pageSize:e.app.userPages.pageSize,APIUrl:e.app.APIUrl,myProfile:e.app.myProfile}}),{setUsers:i,setTotalCount:l,setUserPageIsFetching:g,setWasNotLoaded:b,setFirstPageNumber:p,setCurrentPageNumber:f,setAllFollowValues:h,setUsersInfoThunk:function(e,t){return function(r){G.getUsersPromise(e,t).then((function(e){r(i(e.data.items)),r(l(e.data.totalCount)),r(g(!1)),r(b(!1))})).catch((function(e){console.log("setUsersInfoThunk error: ".concat(e.message)),r(g(!1)),r(b(!0))}))}},setAllFollowValuesThunk:function(e){return function(t){Promise.all(G.getAllFollowPromises(e)).then((function(e){return h(e.map((function(e){return e.data})))}))}}})(Oe),Se=r(57),xe=r.n(Se),ve=r(2),Te=r(58),Ee=r.n(Te),_e=r(39),Ie=r.n(_e),Ce=function(e){var t=e.text;return Object(q.jsx)("div",{className:Ie.a.sidebarButton,children:Object(q.jsx)(H.a,{to:"/".concat(t),activeClassName:Ie.a.activeLink,children:t})})},Fe=function(){var e=Object(a.useState)(["Users","Profile"]),t=Object(B.a)(e,2),r=t[0];t[1];return Object(q.jsx)("div",{className:Ee.a.sidebar,children:r.map((function(e){return Object(q.jsx)(Ce,{text:e},e)}))})},Ue=r(20),we=r(59),Le=r.n(we),ke=function(e){return Object(q.jsx)("div",{className:Le.a.preloader,children:Object(q.jsx)("img",{src:e.preloaderGif,alt:"preloader gif"})})},ye=Object(c.b)((function(e,t){return{preloaderGif:e.app.preloaderGif}}))(ke),Ae=r(23),Re=r.n(Ae),Ge=r(31),Je=r.n(Ge),Me=function(e){var t=e.parameter,r=e.value;return Object(q.jsxs)("div",{className:Je.a.parametersItem,children:[Object(q.jsx)("span",{className:Je.a.parameter,children:"".concat(t," :")}),Object(q.jsx)("span",{className:Je.a.value,children:r})]})},Ve=r(40),We=r.n(Ve),Be=function(e){var t=e.onInputHandler,r=e.value,n=e.statusInputValue,a=e.buttonClickHandler;return Object(q.jsxs)("div",{className:We.a.setStatusForm,children:[Object(q.jsx)("input",{onInput:t,value:r,className:We.a.input,type:"text",ref:n}),Object(q.jsx)(K,{text:"Set status",clickHandler:a})]})},He=r(22),De=r.n(He),ze=function(e){var t=Object(a.useState)(!1),r=Object(B.a)(t,2),n=r[0],o=r[1],u=Object(a.useState)(e.profileStatus),c=Object(B.a)(u,2),i=c[0],l=c[1],f=s.a.createRef();return Object(a.useEffect)((function(){return function(){return e.setStatusValue(null)}}),[]),Object(a.useEffect)((function(){l(e.profileStatus)}),[e.profileStatus]),Object(q.jsxs)("div",{className:De.a.userData,children:[Object(q.jsx)("div",{className:De.a.avatar,children:Object(q.jsx)("img",{src:e.avatar})}),Object(q.jsxs)("div",{className:De.a.parameters,children:[Object(q.jsx)(Me,{parameter:"Name",value:e.currentProfile.fullName}),Object(q.jsx)(Me,{parameter:"Looking for a job description",value:e.currentProfile.lookingForAJobDescription?e.currentProfile.lookingForAJobDescription:e.currentProfile.lookingForAJob?"Any work":"Not looking for job"}),Object(q.jsx)("div",{onDoubleClick:function(){e.myProfile.data.id===e.currentProfile.userId?o(!n):o(!1)},className:De.a.status,children:n?Object(q.jsx)(Be,{value:i,onInputHandler:function(){l(f.current.value)},statusInputValue:f,buttonClickHandler:function(){e.myProfile&&(e.updateStatusValueThunk(i,e.myProfile.data.id),o(!1))}}):Object(q.jsx)(Me,{parameter:"Status",value:e.profileStatus})}),e.myProfile&&e.currentProfile.userId===e.myProfile.data.id?Object(q.jsx)("div",{className:De.a.logout,children:Object(q.jsx)(K,{text:"Logout",clickHandler:function(){e.logoutThunk()}})}):null]})]})},Ye=Object(c.b)((function(e,t){var r=e.app.profile.currentProfile;return{myProfile:e.app.myProfile,profileStatus:e.app.profileStatus,currentProfile:r,avatar:r.photos.large?r.photos.large:e.app.defaultAvatar}}),{logoutThunk:function(){return function(e){R.logout().then((function(t){e(P(null)),e(m(null)),e(S(!1))})).catch((function(t){e(S(!1)),console.log("loginThunk error: ".concat(t.message))}))}},getStatusValueThunk:W,updateStatusValueThunk:function(e,t){return function(r){R.updateProfileStatus(e).then((function(e){0===e.data.resultCode&&W(t)(r)}))}},setStatusValue:O})(ze),qe=r(60),Ke=r.n(qe),Xe=function(){return Object(q.jsx)("div",{className:Ke.a.userPageNotFound,children:"User page not found"})},Ze=r(65),Qe=r(10),$e=r.n(Qe),et=function(e){var t=Object(Ze.a)({initialValues:{login:"",password:"",rememberMe:!1,captcha:""},onSubmit:function(t){e.loginThunk(Object(D.a)({},t))}});return Object(q.jsxs)("form",{className:$e.a.form,onSubmit:t.handleSubmit,children:[Object(q.jsx)("div",{children:Object(q.jsx)("input",{className:$e.a.input,id:"login",name:"login",type:"text",placeholder:"Login",onChange:t.handleChange,value:t.values.login})}),Object(q.jsx)("div",{children:Object(q.jsx)("input",{className:$e.a.input,id:"password",name:"password",type:"password",placeholder:"Password",onChange:t.handleChange,value:t.values.password})}),Object(q.jsxs)("div",{className:$e.a.checkboxContainer,children:[Object(q.jsx)("span",{children:"Remember me"}),Object(q.jsx)("input",{className:$e.a.checkbox,type:"checkbox",name:"rememberMe",value:t.values.rememberMe,checked:t.values.rememberMe,onChange:t.handleChange})]}),Object(q.jsx)("div",{className:$e.a.buttonContainer,children:Object(q.jsx)(K,{text:"Login",style:{marginLeft:"auto"},type:"submit"})}),e.loginError?Object(q.jsx)("div",{className:$e.a.loginError,children:e.loginError}):null,e.captcha?Object(q.jsxs)("div",{className:$e.a.captcha,children:[Object(q.jsx)("div",{className:$e.a.image,children:Object(q.jsx)("img",{src:e.captcha,alt:"captcha"})}),Object(q.jsx)("div",{children:Object(q.jsx)("input",{className:$e.a.input,id:"captcha",name:"captcha",type:"captcha",placeholder:"Captcha",onChange:t.handleChange,value:t.values.captcha})})]}):null]})},tt=Object(c.b)((function(e,t){return{loginError:e.app.loginError,captcha:e.app.captcha}}),{setMyProfile:P,loginThunk:function(e){var t=e.login,r=e.password,n=e.rememberMe,a=e.captcha;return function(e){R.login(t,r,n,a).then((function(t){1===t.data.resultCode?e(x("Incorrect login or password")):10===t.data.resultCode?(R.getCaptcha().then((function(t){e(v(t.data.url))})).catch((function(e){console.log("loginThunk error: ".concat(e.message))})),e(x("The number of input attempts has been exceeded. Please enter a captcha."))):0===t.data.resultCode&&(e(x(!1)),e(S(!0)),e(v(null)),e(x(null)))})).catch((function(t){e(S(!1)),console.log("loginThunk error: ".concat(t.message))}))}}})(et),rt=function(e){return Object(a.useEffect)((function(){return e.setProfileIsFetching(!0),e.match.params.userId?e.setCurrentProfileThunk(e.match.params.userId):e.myProfile?e.setCurrentProfileThunk(e.myProfile.data.id):e.setMyProfileThunk(e.myProfile),function(){e.setCurrentProfile(null)}}),[e.match.params.userId,e.login]),Object(a.useEffect)((function(){e.currentProfile&&(e.setStatusIsFetching(!0),e.getStatusValueThunk(e.currentProfile.userId))}),[Boolean(e.currentProfile)]),Object(a.useEffect)((function(){return function(){e.setCurrentProfile(null)}}),[]),e.isFetching||e.statusIsFetching&&(e.myProfile||e.currentProfile)||!e.myProfile&&e.currentProfile&&!e.match.params.userId?Object(q.jsx)("div",{className:Re.a.profile,children:Object(q.jsx)(ye,{})}):e.currentProfile&&e.myProfile||e.currentProfile&&e.match.params.userId?Object(q.jsx)("div",{className:Re.a.profile,children:Object(q.jsx)(Ye,{currentProfile:e.currentProfile})}):e.myProfile||e.currentProfile||e.match.params.userId?e.currentProfile?void 0:Object(q.jsx)("div",{className:Re.a.profile,children:Object(q.jsx)(Xe,{})}):Object(q.jsx)("div",{className:Re.a.profile,children:Object(q.jsx)(tt,{})})},nt=Object(Ue.c)(Object(c.b)((function(e,t){return{APIUrl:e.app.APIUrl,currentProfile:e.app.profile.currentProfile,myProfile:e.app.myProfile,isFetching:e.app.profile.isFetching,profileStatus:e.app.profileStatus,statusIsFetching:e.app.statusIsFetching,login:e.app.login}}),{setStatusIsFetching:N,getStatusValueThunk:W,setCurrentProfile:m,setCurrentProfileThunk:M,setMyProfileThunk:function(e){return function(t){e?t(d(!1)):R.setMyProfile().then((function(e){e?(M(e.data.id)(t),t(P(e)),t(S(!0))):(t(P(e)),t(d(!1)),t(S(!1)))}))}},setProfileIsFetching:d,setMyProfile:P}),ve.withRouter)(rt),at=function(){return Object(q.jsxs)("div",{className:"wrapper ".concat(xe.a.appWrapper),children:[Object(q.jsx)(Fe,{}),Object(q.jsxs)(ve.Switch,{children:[Object(q.jsx)(ve.Route,{exact:!0,path:"/Users",children:Object(q.jsx)(Ne,{})}),Object(q.jsx)(ve.Route,{exact:!0,path:"/Profile",children:Object(q.jsx)(nt,{})}),Object(q.jsx)(ve.Route,{exact:!0,path:"/Profile/:userId?",children:Object(q.jsx)(nt,{})}),Object(q.jsx)(ve.Route,{exact:!0,path:"/",children:Object(q.jsx)(ve.Redirect,{to:"Profile"})})]})]})},st=(r(98),r(99),r(32)),ot=function(e,t){return e.setIn(["usersInfo","users"],t.users)},ut=function(e,t){return e.setIn(["userPages","totalCount"],t.totalCount)},ct=function(e,t){return e.setIn(["userPages","currentPageNumber"],t.currentPageNumber)},it=function(e,t){return e.setIn(["userPages","firstPageNumber"],t.firstPageNumber)},lt=function(e,t){var r=t.pageParameters;return r.pageNumber===r.firstPageNumber&&1===r.firstPageNumber||r.pageNumber===r.lastPageNumber&&r.firstPageNumber===r.lastPageNumber-r.pagesCount+1||r.pageNumber>r.firstPageNumber&&r.pageNumber<r.firstPageNumber+(r.pagesCount-1)?e:r.pageNumber===r.firstPageNumber+(r.pagesCount-1)?e.setIn(["userPages","firstPageNumber"],r.firstPageNumber+1):r.pageNumber===r.firstPageNumber?e.setIn(["userPages","firstPageNumber"],r.firstPageNumber-1):void 0},ft=function(e,t){return e.setIn(["userPages","isFetching"],t.isFetching)},pt=function(e,t){return e.setIn(["userPages","lastPageNumber"],t.lastPageNumber)},gt=function(e,t){return e.setIn(["profile","currentProfile"],t.currentProfile)},mt=function(e,t){return e.setIn(["userPages","wasNotLoaded"],t.wasNotLoaded)},bt=function(e,t){return e.setIn(["profile","isFetching"],t.isFetching)},dt=function(e,t){return e.setIn(["myProfile"],t.myProfile)},Pt=function(e,t){var r=e.toJS();return r.usersInfo.users.forEach((function(e){e.id===t.userId&&(e.followed=t.followValue)})),Object(st.a)(r)},jt=function(e,t){var r=e.toJS();return r.usersInfo.users.forEach((function(e,r){e.followed=t.allFollowPromises[r]})),Object(st.a)(r)},ht=function(e,t){return e.setIn(["userPages","pagesCount"],t.pagesCount)},Ot=function(e,t){return e.setIn(["profileStatus"],t.statusValue)},Nt=function(e,t){return e.setIn(["statusIsFetching"],t.statusIsFetching)},St=function(e,t){return e.setIn(["login"],t.login)},xt=function(e,t){return e.setIn(["loginError"],t.loginError)},vt=function(e,t){return e.setIn(["captcha"],t.captcha)},Tt={usersInfo:{users:[]},defaultAvatar:"./images/defaultAvatar.png",profile:{currentProfile:null,isFetching:!1},myProfile:null,login:null,loginError:null,captcha:null,profileStatus:null,statusIsFetching:!1,APIUrl:"https://social-network.samuraijs.com/api/1.0",userPages:{pageSize:5,pagesCount:5,totalCount:0,currentPageNumber:1,firstPageNumber:1,lastPageNumber:5,isFetching:!1,wasNotLoaded:!1},preloaderGif:"./gifs/__Iphone-spinner-1.gif"},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0,r=Object(st.a)(e);switch(t.type){case"SET-USERS":return ot(r,t).toJS();case"SET-TOTAL-USERS-COUNT":return ut(r,t).toJS();case"SET-CURRENT-PAGE-NUMBER":return ct(r,t).toJS();case"SET-FIRST-PAGE-NUMBER":return it(r,t).toJS();case"SET-NEW-FIRST-PAGE-NUMBER":return lt(r,t).toJS();case"SET-USER-PAGE-IS-FETCHING":return ft(r,t).toJS();case"SET-LAST-PAGE-NUMBER":return pt(r,t).toJS();case"SET-CURRENT-PROFILE":return gt(r,t).toJS();case"SET-WAS-NOT-LOADED":return mt(r,t).toJS();case"SET-PROFILE-IS-FETCHING":return bt(r,t).toJS();case"SET-MY-PROFILE":return dt(r,t).toJS();case"SET-FOLLOW-VALUE":return Pt(r,t).toJS();case"SET-ALL-FOLLOW-VALUES":return jt(r,t).toJS();case"SET-PAGES-COUNT":return ht(r,t).toJS();case"SET-STATUS-VALUE":return Ot(r,t).toJS();case"SET-STATUS-IS-FETCHING":return Nt(r,t).toJS();case"SET-LOGIN":return St(r,t).toJS();case"SET-LOGIN-ERROR":return xt(r,t).toJS();case"SET-CAPTCHA":return vt(r,t).toJS();default:return r.toJS()}},_t=r(63),It=Object(Ue.b)({app:Et}),Ct=Object(Ue.d)(It,Object(Ue.a)(_t.a)),Ft=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,101)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),s(e),o(e)}))},Ut=r(64);u.a.render(Object(q.jsx)(Ut.BrowserRouter,{basename:"/React-mini-app",children:Object(q.jsx)(c.a,{store:Ct,children:Object(q.jsx)(at,{})})}),document.getElementById("root")),Ft()},21:function(e,t,r){e.exports={user:"User_user__2NYfV",button:"User_button__3VlgY",link:"User_link__1MDfW",avatar:"User_avatar__2Cf-n",sidebarButton:"User_sidebarButton__2L0zb",activeLink:"User_activeLink__3Ty3U"}},22:function(e,t,r){e.exports={userData:"UserData_userData__1JBNA",parameters:"UserData_parameters__o1cy5",avatar:"UserData_avatar__huyWO",logout:"UserData_logout__21WGq"}},23:function(e,t,r){e.exports={profile:"Profile_profile__2ssxW"}},29:function(e,t,r){e.exports={users:"Users_users__1SCaV",usersTitle:"Users_usersTitle__2NeA4",aListOfUsers:"Users_aListOfUsers__3gFOS"}},30:function(e,t,r){e.exports={toggle:"UsersPageToggle_toggle__15wEh",toggleFlex:"UsersPageToggle_toggleFlex__2f9oA",toggleItemsWrapper:"UsersPageToggle_toggleItemsWrapper__26kYe"}},31:function(e,t,r){e.exports={parametersItem:"ParameterItem_parametersItem__2t7iP",parameter:"ParameterItem_parameter__2BZN8",value:"ParameterItem_value__2fj2q"}},38:function(e,t,r){e.exports={togleItem:"ToggleItem_togleItem__4PXUh",active:"ToggleItem_active__2V2sp","non-active":"ToggleItem_non-active__1-PP-",noselect:"ToggleItem_noselect__3Wir8"}},39:function(e,t,r){e.exports={sidebarButton:"SidebarButton_sidebarButton__2Ym7N",activeLink:"SidebarButton_activeLink__24f7J"}},40:function(e,t,r){e.exports={setStatusForm:"SetStatusForm_setStatusForm__1Ft8I",input:"SetStatusForm_input__K8h6c"}},53:function(e,t,r){e.exports={button:"Button_button__3zwkW"}},55:function(e,t,r){e.exports={preloader:"Preloader_preloader__1tYWs"}},56:function(e,t,r){e.exports={wasNotLoaded:"WasNotLoaded_wasNotLoaded__FPFeA"}},57:function(e,t,r){e.exports={appWrapper:"AppWrapper_appWrapper__2Qd3b"}},58:function(e,t,r){e.exports={sidebar:"Sidebar_sidebar__1GERy"}},59:function(e,t,r){e.exports={preloader:"Preloader_preloader__2MeMw"}},60:function(e,t,r){e.exports={userPageNotFound:"UserPageNotFound_userPageNotFound__3X30o"}},98:function(e,t,r){},99:function(e,t,r){}},[[100,1,2]]]);
//# sourceMappingURL=main.cfc6d3c0.chunk.js.map